<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de" lang="de" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>Deutschland-Api Javascript Api</title>
		<script type="text/javascript" src="dapi.js"></script>
		<script type='text/javascript'>
			if( window.console == undefined || window.console.firebug == undefined ) {
				document.write("<scr"+"ipt type='text/javascript' src='http://getfirebug.com/releases/lite/1.2/firebug-lite-compressed.js'><"+"/script>");
			}
		</script>
		<style type="text/css">
		body  { font: 13px/1.231 arial,helvetica,clean,sans-serif; }
		a {
			color: #0088CC;
			text-decoration: none;
		}
		a:hover, a:active, a:focus { color: #006FA6; }
		</style>
	</head>	
	<body>
		<div id="doc">
			<p>Diese Seite ist für FF3 und Firebug angepasst, für alle anderen wird firebug-lite geladen.</p>
			<p>Für mehr Informationen Siehe <a href="http://wiki.d-api.de/Api">http://wiki.d-api.de/Api</a>, <a href="http://wiki.d-api.de/api-console">http://wiki.d-api.de/api-console</a>.</p>
		</div>
		<script language="javascript">
			try{ firebug.env.height = 500; } catch(err){}
			
			function line( str, log, i ){
				var q = "",str=str||"",i=i||150,i=i-str.length,z,z1=Math.round(i/2);
				for( z=0;z<i;z++)
					if( i-z == z1 ) q += str;
					else q += "*";
				console.log( q );
				if( undefined !== log )
					console.log( log );
				return line
			}
			
		</script>
		<script id="example-code" type="text/javascript">
		// Initialisiere
		var D_Api = new dapi;
		
		// Liste aller Controller
		D_Api.call( '/', function( response ){
			line('/', response );
		} );
		
		// Hohle den ersten Bundestagsausschuss
		D_Api.call( 'bundestag.ausschuesse/get', function( response ){
			line(' bundestag.ausschuesse/get?limit=1 ', response );
		}, { "limit": 1 } );
		
		// Hohle die ersten 10 Bundestagsausschuss mit den übersichtsinformationen
		D_Api.call( 'bundestag.ausschuesse/list', function( response ){
			line(' bundestag.ausschuesse/list?limit=10 ', response );
		}, { "limit": 10 } );
		
		// Hohle die ersten 10 Bundestagsausschuss mit den übersichtsinformationen limit 2,10 ( ab 10 zwei datensätze anzeigen )
		D_Api.call( 'bundestag.ausschuesse', function( response ){
			line(' bundestag.ausschuesse?limit=2,10 ', response );
		}, { "limit": '2,10' } );
		
		// Über YQL-Abfragen
		D_Api.yql( 'SELECT * FROM d-api.bundestag.petition.menschen LIMIT 10', function( response ) {
			line(' YQL: SELECT * FROM d-api.bundestag.petition.menschen LIMIT 10 ', response );
		} );
		
		// Über YQL-Abfragen und die default Parameter überschreiben, hier bekommen wir ein diagnostic Object der ausgeführten Api-Requests zurück
		D_Api.yql( 'SELECT id, vornname FROM d-api.bundestag.petition.menschen LIMIT 5', function( response ) {
			line(' YQL: SELECT id, vornname FROM d-api.bundestag.petition.menschen LIMIT 5 ', response );
		}, {
			'diagnostics': 'true'
		} );
		</script>
		<script type="text/javascript">
			EXAMPLE_CODE = document.getElementById('example-code');
			line( "EXAMPLE_CODE: ", EXAMPLE_CODE.innerHTML );
		</script>
	</body>
</html>